<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Group Chat with Hugging Face</title>
<style>
  body { font-family: Arial; margin: 0; padding: 20px; }
  #messages { list-style: none; padding: 0; max-height: 400px; overflow-y: auto; }
  li { margin-bottom: 10px; }
  input { width: 80%; padding: 10px; }
  button { padding: 10px; }
</style>
</head>
<body>
<h2>Group Chat</h2>
<ul id="messages"></ul>
<input id="input" autocomplete="off" placeholder="Type a message..." />
<button id="send">Send</button>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const messagesEl = document.getElementById("messages");
const input = document.getElementById("input");
const sendBtn = document.getElementById("send");

sendBtn.onclick = () => {
  if(input.value.trim() === "") return;
  socket.emit("chat message", input.value);
  input.value = "";
};

socket.on("chat message", (data) => {
  const li = document.createElement("li");
  li.textContent = `${data.user}: ${data.message}`;
  messagesEl.appendChild(li);
  messagesEl.scrollTop = messagesEl.scrollHeight;
});
</script>
</body>
</html>
